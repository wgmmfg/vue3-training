{"version":3,"file":"js/640.f13fa1d5.js","mappings":"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","sources":["webpack://wk7/./src/views/AdminProducts.vue","webpack://wk7/./src/components/ProductModal.vue","webpack://wk7/./src/components/ProductModal.vue?b0ff","webpack://wk7/./src/views/AdminProducts.vue?cec0"],"sourcesContent":["<template>\n  <div>\n    <h2>Product list</h2>\n    <div class=\"container-fluid\">\n        <div class=\"text-end mt-4\">\n          <button class=\"btn btn-primary\" data-bs-toggle=\"modal\"\n            data-bs-target=\"#productModal\" @click=\"editStatus='add'\">\n            建立新的產品\n          </button>\n        </div>\n        <table class=\"table mt-4\">\n          <thead>\n            <tr>\n              <th width=\"120\">\n                分類\n              </th>\n              <th>產品名稱</th>\n              <th width=\"120\">\n                原價\n              </th>\n              <th width=\"120\">\n                售價\n              </th>\n              <th width=\"100\">\n                是否啟用\n              </th>\n              <th width=\"120\">\n                編輯\n              </th>\n            </tr>\n          </thead>\n          <tbody v-if=\"products.length>0\">\n            <tr v-for=\"p,idx in products\" :key=\"'p'+idx\">\n              <td>{{ p.category }}</td>\n              <td>{{ p.title }}</td>\n              <td class=\"text-end\">{{ p.origin_price }}</td>\n              <td class=\"text-end\">{{ p.price }}</td>\n              <td>\n                <span v-if=\"p.is_enabled > 0\" class=\"text-success\">啟用</span>\n                <span v-else>未啟用</span>\n              </td>\n              <td>\n                <div class=\"btn-group\">\n                  <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\n                    data-bs-toggle=\"modal\" data-bs-target=\"#productModal\"\n                     @click=\"editItem(p)\">\n                    編輯\n                  </button>\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\n                    data-bs-toggle=\"modal\" data-bs-target=\"#delProductModal\"\n                    @click=\"curProduct = p\">\n                    刪除\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n          <tbody v-else>\n            <tr>\n              <td colspan=\"6\" class=\"text-center\">\n                <div class=\"spinner-border text-secondary\" role=\"status\">\n                  <span class=\"visually-hidden\">Loading...</span>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <Pagination :pages=\"pagination\" @get-products=\"getProducts\"/>\n      </div>\n    <DelModal :cur-item=\"curProduct\" @deleteItem=\"deleteItem\"/>\n    <ProductModal :item=\"curProduct\" :edit-status=\"editStatus\"\n     @add-images=\"addImages\" @update-item=\"updateItem\"/>\n  </div>\n</template>\n\n<script>\nimport ProductModal from '@/components/ProductModal.vue';\nimport DelModal from '@/components/DelModal.vue';\nimport Pagination from '@/components/PaginationItem.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      curProduct: {\n        imagesUrl: [],\n      },\n      editStatus: '',\n      pagination: {},\n    };\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    Pagination,\n  },\n  mounted() {\n    // productModal = new bootstrap.Modal(document.getElementById('productModal'));\n    // document.getElementById('productModal').addEventListener('hidden.bs.modal', (event) => {\n    //   this.resetData();\n    // });\n    // delProductModal = new bootstrap.Modal(document.getElementById('delProductModal'));\n    // document.getElementById('delProductModal').addEventListener('hidden.bs.modal', (event) => {\n    //   this.resetData();\n    // });\n    this.getProducts();\n  },\n  methods: {\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.$http.get(api)\n        .then((res) => {\n          // console.log(res);\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(error.data.message);\n        });\n    },\n    addImages() {\n      this.curProduct.imagesUrl = [];\n      this.curProduct.imagesUrl.push('');\n    },\n    addItem() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      this.$http.post(api, { data: this.curProduct })\n        .then((res) => {\n          // console.log(res);\n          alert(res.data.message);\n          // productModal.hide();\n          this.getProducts();\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(error.data.message);\n        });\n    },\n    editItem(item) {\n      // console.log('edit: ', item, item.id);\n      this.curProduct = JSON.parse(JSON.stringify(item));\n      this.editStatus = 'edit';\n    },\n    updateItem() {\n      const data = this.curProduct;\n      if (this.editStatus === 'edit') {\n        const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.curProduct.id}`;\n        console.log(api, data);\n        this.$http.put(api, { data })\n          .then((res) => {\n            // console.log(res);\n            alert(res.data.message);\n            // productModal.hide();\n            this.getProducts();\n          })\n          .catch((error) => {\n            console.log(error);\n            alert(error.data.message);\n          });\n      } else {\n        this.addItem();\n      }\n    },\n    deleteItem() {\n      this.editStatus = 'deleting';\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.curProduct.id}`;\n      this.$http.delete(api)\n        .then((res) => {\n          // console.log(res);\n          alert(res.data.message);\n          // delProductModal.hide();\n          // console.log(bootstrap.Modal.getInstance(this.$refs.delProductModal));\n          this.getProducts();\n          this.resetData();\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(error.data.message);\n        });\n    },\n    resetData() {\n      this.curProduct = {\n        imagesUrl: [],\n      };\n      this.editStatus = '';\n    },\n  },\n};\n</script>\n","<template>\n  <div id=\"productModal\" ref=\"productModal\" class=\"modal fade\"\n   tabindex=\"-1\" aria-labelledby=\"productModalLabel\"\n    aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-xl\">\n    <div class=\"modal-content border-0\">\n      <div class=\"modal-header bg-dark text-white\">\n        <h5 id=\"productModalLabel\" class=\"modal-title\">\n          <span v-text=\"editStatus=='edit'?'編輯產品':'新增產品'\"></span>\n        </h5>\n        <button type=\"button\" class=\"btn-close btn-close-white\"\n         data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"row\">\n          <div class=\"col-sm-4\">\n            <div class=\"mb-5\">\n              <h4>主要圖片</h4>\n              <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"imageUrl\" class=\"form-label visually-hidden\">輸入圖片網址</label>\n                <input type=\"text\" id=\"imageUrl\" class=\"form-control\"\n                 v-model=\"curProduct.imageUrl\"\n                 placeholder=\"請輸入圖片連結\">\n                 <div class=\"py-1\">\n                  <!-- eslint-disable-next-line -->\n                  <label for=\"upload\" class=\"form-label\">或 上傳圖片</label>\n                  <input id=\"upload\" type=\"file\" name=\"file-to-upload\"\n                   ref=\"uploadMain\" @change=\"uploadImg\" class=\"form-control\">\n                 </div>\n              </div>\n              <img class=\"img-fluid\" :src=\"curProduct.imageUrl\" alt=\"\">\n            </div>\n            <div>\n              <h4>其他圖片</h4>\n              <div v-if=\"Array.isArray(curProduct.imagesUrl)\">\n                <div v-for=\"img,idx in curProduct.imagesUrl\" :key=\"'imgs'+idx\">\n                  <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n                    <label :for=\"'imagesUrl'+idx\" class=\"form-label\">圖片 {{ idx+1 }} 網址</label>\n                    <input type=\"text\" :id=\"'imagesUrl'+idx\" class=\"form-control\"\n                     v-model=\"curProduct.imagesUrl[idx]\"\n                    placeholder=\"請輸入圖片連結\">\n                  </div>\n                  <img v-if=\"curProduct.imagesUrl[idx]\" class=\"img-fluid mb-2\"\n                   :src=\"curProduct.imagesUrl[idx]\" alt=\"\">\n                  <button class=\"btn btn-outline-danger btn-sm d-block w-100 mb-4\"\n                   @click=\"curProduct.imagesUrl.splice(idx,1)\">\n                    刪除圖片 {{ idx+1 }}\n                  </button>\n                </div>\n                <div>\n                  <button v-if=\"!curProduct.imagesUrl.length\n                   || curProduct.imagesUrl[curProduct.imagesUrl.length - 1]\"\n                   class=\"btn btn-outline-primary btn-sm d-block w-100\"\n                    @click=\"curProduct.imagesUrl.push('')\">\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n              <div v-else>\n                <button class=\"btn btn-outline-primary btn-sm w-100\" @click=\"addImages\">\n                  新增圖片\n                </button>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-8\">\n            <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n              <label for=\"title\" class=\"form-label\">標題</label>\n              <input id=\"title\" type=\"text\" class=\"form-control\"\n               placeholder=\"請輸入標題\" v-model=\"curProduct.title\">\n            </div>\n\n            <div class=\"row\">\n              <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"category\" class=\"form-label\">分類</label>\n                <input id=\"category\" type=\"text\" class=\"form-control\" v-model=\"curProduct.category\"\n                        placeholder=\"請輸入分類\">\n              </div>\n              <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"price\" class=\"form-label\">單位</label>\n                <input id=\"unit\" type=\"text\" class=\"form-control\"\n                 placeholder=\"請輸入單位\" v-model=\"curProduct.unit\">\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"origin_price\" class=\"form-label\">原價</label>\n                <input id=\"origin_price\" type=\"number\" min=\"0\" class=\"form-control\"\n                 placeholder=\"請輸入原價\" v-model.number=\"curProduct.origin_price\">\n              </div>\n              <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"price\" class=\"form-label\">售價</label>\n                <input id=\"price\" type=\"number\" min=\"0\"\n                 class=\"form-control\" v-model.number=\"curProduct.price\"\n                        placeholder=\"請輸入售價\">\n              </div>\n            </div>\n            <hr>\n\n            <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n              <label for=\"description\" class=\"form-label\">產品描述</label>\n              <textarea id=\"description\" type=\"text\" class=\"form-control\"\n               v-model=\"curProduct.description\"\n                        placeholder=\"請輸入產品描述\">\n              </textarea>\n            </div>\n            <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n              <label for=\"content\" class=\"form-label\">說明內容</label>\n              <textarea id=\"description\" type=\"text\" class=\"form-control\"\n               v-model=\"curProduct.content\"\n                        placeholder=\"請輸入說明內容\">\n              </textarea>\n            </div>\n            <div class=\"mb-3\">\n              <div class=\"form-check\">\n                <input id=\"is_enabled\" class=\"form-check-input\"\n                 type=\"checkbox\" v-model=\"curProduct.is_enabled\"\n                        :true-value=\"1\" :false-value=\"0\">\n                <!-- eslint-disable-next-line -->\n                <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n          取消\n        </button>\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"updateItem\">\n          確認\n        </button>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      curProduct: {},\n    };\n  },\n  watch: {\n    item(p) {\n      this.curProduct = p;\n    },\n  },\n  mounted() {\n    // console.log(this.item, this.curProduct);\n  },\n  props: ['item', 'editStatus'],\n  methods: {\n    updateItem() {\n      this.$emit('updateItem');\n    },\n    addImages() {\n      this.$emit('addImages');\n    },\n    uploadImg() {\n      const imgFile = this.$refs.uploadMain.files[0];\n      const formdata = new FormData();\n      formdata.append('file-to-update', imgFile);\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(api, formdata)\n        .then((res) => {\n          // console.log(res);\n          this.curProduct.imageUrl = res.data.imageUrl;\n          this.$refs.uploadMain.value = '';\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$refs.uploadMain.value = '';\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=2e2d3f22\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\xampp\\\\htdocs\\\\hexschool\\\\vue3-training\\\\wk7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminProducts.vue?vue&type=template&id=2a0782eb\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\xampp\\\\htdocs\\\\hexschool\\\\vue3-training\\\\wk7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","width","colspan","role","_hoisted_15","_createElementBlock","_hoisted_1","onClick","$data","_hoisted_5","length","_hoisted_6","_Fragment","_renderList","p","idx","key","_toDisplayString","category","title","origin_price","price","is_enabled","_hoisted_10","type","$options","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_16","_createVNode","_component_Pagination","pages","onGetProducts","_component_DelModal","onDeleteItem","_component_ProductModal","item","onAddImages","onUpdateItem","id","ref","tabindex","for","$props","_hoisted_7","imageUrl","$event","placeholder","name","onChange","src","alt","_hoisted_18","Array","isArray","imagesUrl","_hoisted_19","img","_hoisted_21","splice","_hoisted_24","push","_hoisted_25","_hoisted_28","_hoisted_31","_hoisted_33","unit","_hoisted_36","min","_hoisted_38","_hoisted_39","_hoisted_41","description","_hoisted_43","content","_hoisted_46","_hoisted_48","data","curProduct","watch","this","mounted","props","methods","updateItem","$emit","addImages","uploadImg","imgFile","$refs","uploadMain","files","formdata","FormData","append","api","$http","post","then","res","value","catch","error","console","log","__exports__","products","editStatus","pagination","components","ProductModal","DelModal","Pagination","getProducts","page","get","alert","message","addItem","editItem","JSON","parse","stringify","put","deleteItem","delete","resetData","render"],"sourceRoot":""}