{"version":3,"file":"js/257.96cb5123.js","mappings":"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","sources":["webpack://wk7/./src/views/AdminProducts.vue","webpack://wk7/./src/components/ProductModal.vue","webpack://wk7/./src/components/ProductModal.vue?b0ff","webpack://wk7/./src/views/AdminProducts.vue?cec0"],"sourcesContent":["<template>\n  <div>\n    <h2>Product list</h2>\n    <div class=\"container-fluid\">\n        <div class=\"text-end mt-4\">\n          <button class=\"btn btn-primary\" @click=\"showModal('add')\">\n            建立新的產品\n          </button>\n        </div>\n        <table class=\"table mt-4\">\n          <thead>\n            <tr>\n              <th width=\"120\">\n                分類\n              </th>\n              <th>產品名稱</th>\n              <th width=\"120\">\n                原價\n              </th>\n              <th width=\"120\">\n                售價\n              </th>\n              <th width=\"100\">\n                是否啟用\n              </th>\n              <th width=\"120\">\n                編輯\n              </th>\n            </tr>\n          </thead>\n          <tbody v-if=\"products.length>0\">\n            <tr v-for=\"p,idx in products\" :key=\"'p'+idx\">\n              <td>{{ p.category }}</td>\n              <td>{{ p.title }}</td>\n              <td class=\"text-end\">{{ p.origin_price }}</td>\n              <td class=\"text-end\">{{ p.price }}</td>\n              <td>\n                <span v-if=\"p.is_enabled > 0\" class=\"text-success\">啟用</span>\n                <span v-else>未啟用</span>\n              </td>\n              <td>\n                <div class=\"btn-group\">\n                  <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\n                     @click=\"showModal('edit', p)\">\n                    編輯\n                  </button>\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\n                    @click=\"showModal('delete', p)\">\n                    刪除\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n          <tbody v-else>\n            <tr>\n              <td colspan=\"6\" class=\"text-center\">\n                <div class=\"spinner-border text-secondary\" role=\"status\">\n                  <span class=\"visually-hidden\">Loading...</span>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <Pagination :pages=\"pagination\" @get-products=\"getProducts\"/>\n      </div>\n    <DelModal ref=\"delModal\" :cur-item=\"curProduct\" @deleteItem=\"deleteItem\"/>\n    <ProductModal ref=\"productModal\" :item=\"curProduct\" :edit-status=\"editStatus\"\n     @add-images=\"addImages\" @update-item=\"updateItem\"/>\n  </div>\n</template>\n\n<script>\nimport ProductModal from '@/components/ProductModal.vue';\nimport DelModal from '@/components/DelModal.vue';\nimport Pagination from '@/components/PaginationItem.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      curProduct: {\n        imagesUrl: [],\n      },\n      editStatus: '',\n      pagination: {},\n    };\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    Pagination,\n  },\n  mounted() {\n    // productModal = new bootstrap.Modal(document.getElementById('productModal'));\n    // document.getElementById('productModal').addEventListener('hidden.bs.modal', (event) => {\n    //   this.resetData();\n    // });\n    // delProductModal = new bootstrap.Modal(document.getElementById('delProductModal'));\n    // document.getElementById('delProductModal').addEventListener('hidden.bs.modal', (event) => {\n    //   this.resetData();\n    // });\n    this.getProducts();\n  },\n  methods: {\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.$http.get(api)\n        .then((res) => {\n          // console.log(res);\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(error.data.message);\n        });\n    },\n    addImages() {\n      this.curProduct.imagesUrl = [];\n      this.curProduct.imagesUrl.push('');\n    },\n    addItem() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      this.$http.post(api, { data: this.curProduct })\n        .then((res) => {\n          // console.log(res);\n          alert(res.data.message);\n          // productModal.hide();\n          this.resetData();\n          this.getProducts();\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(error.data.message);\n        });\n    },\n    showModal(inStatus, item) {\n      // this.curProduct = JSON.parse(JSON.stringify(item));\n      // this.editStatus = 'edit';\n      this.editStatus = inStatus;\n      let modal = {};\n      switch (this.editStatus) {\n        case 'add':\n          this.resetData();\n          modal = this.$refs.productModal;\n          modal.showModal();\n          break;\n        case 'delete':\n          this.curProduct = JSON.parse(JSON.stringify(item));\n          modal = this.$refs.delModal;\n          modal.showModal();\n          break;\n        case 'edit':\n          this.curProduct = JSON.parse(JSON.stringify(item));\n          modal = this.$refs.productModal;\n          modal.showModal();\n          break;\n        default:\n          break;\n      }\n    },\n    updateItem() {\n      const data = this.curProduct;\n      if (this.editStatus === 'edit') {\n        const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.curProduct.id}`;\n        console.log(api, data);\n        this.$http.put(api, { data })\n          .then((res) => {\n            // console.log(res);\n            alert(res.data.message);\n            // productModal.hide();\n            this.resetData();\n            this.getProducts();\n          })\n          .catch((error) => {\n            console.log(error);\n            alert(error.data.message);\n          });\n      } else {\n        this.addItem();\n      }\n    },\n    deleteItem() {\n      this.editStatus = 'deleting';\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.curProduct.id}`;\n      this.$http.delete(api)\n        .then((res) => {\n          // console.log(res);\n          alert(res.data.message);\n          // delProductModal.hide();\n          // console.log(bootstrap.Modal.getInstance(this.$refs.delProductModal));\n          this.getProducts();\n          this.resetData();\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(error.data.message);\n        });\n    },\n    resetData() {\n      this.curProduct = {\n        imagesUrl: [],\n      };\n      this.editStatus = '';\n    },\n  },\n};\n</script>\n","<template>\n  <div id=\"productModal\" ref=\"productModal\" class=\"modal fade\"\n   tabindex=\"-1\" aria-labelledby=\"productModalLabel\"\n    aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-xl\">\n    <div class=\"modal-content border-0\">\n      <div class=\"modal-header bg-dark text-white\">\n        <h5 id=\"productModalLabel\" class=\"modal-title\">\n          <span v-text=\"editStatus=='edit'?'編輯產品':'新增產品'\"></span>\n        </h5>\n        <button type=\"button\" class=\"btn-close btn-close-white\"\n         data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"row\">\n          <div class=\"col-sm-4\">\n            <div class=\"mb-5\">\n              <h4>主要圖片</h4>\n              <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"imageUrl\" class=\"form-label visually-hidden\">輸入圖片網址</label>\n                <input type=\"text\" id=\"imageUrl\" class=\"form-control\"\n                 v-model=\"curProduct.imageUrl\"\n                 placeholder=\"請輸入圖片連結\">\n                 <div class=\"py-1\">\n                  <!-- eslint-disable-next-line -->\n                  <label for=\"upload\" class=\"form-label\">或 上傳圖片</label>\n                  <input id=\"upload\" type=\"file\" name=\"file-to-upload\"\n                   ref=\"uploadMain\" @change=\"uploadImg\" class=\"form-control\">\n                 </div>\n              </div>\n              <img class=\"img-fluid\" :src=\"curProduct.imageUrl\" alt=\"\">\n            </div>\n            <div>\n              <h4>其他圖片</h4>\n              <div v-if=\"Array.isArray(curProduct.imagesUrl)\">\n                <div v-for=\"img,idx in curProduct.imagesUrl\" :key=\"'imgs'+idx\">\n                  <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n                    <label :for=\"'imagesUrl'+idx\" class=\"form-label\">圖片 {{ idx+1 }} 網址</label>\n                    <input type=\"text\" :id=\"'imagesUrl'+idx\" class=\"form-control\"\n                     v-model=\"curProduct.imagesUrl[idx]\"\n                    placeholder=\"請輸入圖片連結\">\n                  </div>\n                  <img v-if=\"curProduct.imagesUrl[idx]\" class=\"img-fluid mb-2\"\n                   :src=\"curProduct.imagesUrl[idx]\" alt=\"\">\n                  <button class=\"btn btn-outline-danger btn-sm d-block w-100 mb-4\"\n                   @click=\"curProduct.imagesUrl.splice(idx,1)\">\n                    刪除圖片 {{ idx+1 }}\n                  </button>\n                </div>\n                <div>\n                  <button v-if=\"!curProduct.imagesUrl.length\n                   || curProduct.imagesUrl[curProduct.imagesUrl.length - 1]\"\n                   class=\"btn btn-outline-primary btn-sm d-block w-100\"\n                    @click=\"curProduct.imagesUrl.push('')\">\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n              <div v-else>\n                <button class=\"btn btn-outline-primary btn-sm w-100\" @click=\"addImages\">\n                  新增圖片\n                </button>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-8\">\n            <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n              <label for=\"title\" class=\"form-label\">標題</label>\n              <input id=\"title\" type=\"text\" class=\"form-control\"\n               placeholder=\"請輸入標題\" v-model=\"curProduct.title\">\n            </div>\n\n            <div class=\"row\">\n              <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"category\" class=\"form-label\">分類</label>\n                <input id=\"category\" type=\"text\" class=\"form-control\" v-model=\"curProduct.category\"\n                        placeholder=\"請輸入分類\">\n              </div>\n              <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"price\" class=\"form-label\">單位</label>\n                <input id=\"unit\" type=\"text\" class=\"form-control\"\n                 placeholder=\"請輸入單位\" v-model=\"curProduct.unit\">\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"origin_price\" class=\"form-label\">原價</label>\n                <input id=\"origin_price\" type=\"number\" min=\"0\" class=\"form-control\"\n                 placeholder=\"請輸入原價\" v-model.number=\"curProduct.origin_price\">\n              </div>\n              <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line -->\n                <label for=\"price\" class=\"form-label\">售價</label>\n                <input id=\"price\" type=\"number\" min=\"0\"\n                 class=\"form-control\" v-model.number=\"curProduct.price\"\n                        placeholder=\"請輸入售價\">\n              </div>\n            </div>\n            <hr>\n\n            <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n              <label for=\"description\" class=\"form-label\">產品描述</label>\n              <textarea id=\"description\" type=\"text\" class=\"form-control\"\n               v-model=\"curProduct.description\"\n                        placeholder=\"請輸入產品描述\">\n              </textarea>\n            </div>\n            <div class=\"mb-3\">\n                <!-- eslint-disable-next-line -->\n              <label for=\"content\" class=\"form-label\">說明內容</label>\n              <textarea id=\"description\" type=\"text\" class=\"form-control\"\n               v-model=\"curProduct.content\"\n                        placeholder=\"請輸入說明內容\">\n              </textarea>\n            </div>\n            <div class=\"mb-3\">\n              <div class=\"form-check\">\n                <input id=\"is_enabled\" class=\"form-check-input\"\n                 type=\"checkbox\" v-model=\"curProduct.is_enabled\"\n                        :true-value=\"1\" :false-value=\"0\">\n                <!-- eslint-disable-next-line -->\n                <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n          取消\n        </button>\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"updateItem\">\n          確認\n        </button>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  data() {\n    return {\n      curProduct: {},\n      modal: {},\n    };\n  },\n  watch: {\n    item(p) {\n      this.curProduct = p;\n    },\n  },\n  mounted() {\n    // console.log(this.item, this.curProduct);\n    this.modal = new Modal(this.$refs.productModal);\n  },\n  props: ['item', 'editStatus'],\n  methods: {\n    showModal() {\n      this.modal.show();\n    },\n    updateItem() {\n      this.$emit('updateItem');\n      this.modal.hide();\n    },\n    addImages() {\n      this.$emit('addImages');\n    },\n    uploadImg() {\n      const imgFile = this.$refs.uploadMain.files[0];\n      const formdata = new FormData();\n      formdata.append('file-to-update', imgFile);\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(api, formdata)\n        .then((res) => {\n          // console.log(res);\n          this.curProduct.imageUrl = res.data.imageUrl;\n          this.$refs.uploadMain.value = '';\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$refs.uploadMain.value = '';\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=8e8fac8c\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\xampp\\\\htdocs\\\\hexschool\\\\vue3-training\\\\wk7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminProducts.vue?vue&type=template&id=2f5f10be\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\xampp\\\\htdocs\\\\hexschool\\\\vue3-training\\\\wk7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","width","colspan","role","_hoisted_15","_createElementBlock","_hoisted_1","onClick","$options","_hoisted_5","$data","length","_hoisted_6","_Fragment","_renderList","p","idx","key","_toDisplayString","category","title","origin_price","price","is_enabled","_hoisted_10","type","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_16","_createVNode","_component_Pagination","pages","onGetProducts","_component_DelModal","ref","onDeleteItem","_component_ProductModal","item","onAddImages","onUpdateItem","id","tabindex","for","$props","_hoisted_7","imageUrl","$event","placeholder","name","onChange","src","alt","_hoisted_18","Array","isArray","imagesUrl","_hoisted_19","img","_hoisted_21","splice","_hoisted_24","push","_hoisted_25","_hoisted_28","_hoisted_31","_hoisted_33","unit","_hoisted_36","min","_hoisted_38","_hoisted_39","_hoisted_41","description","_hoisted_43","content","_hoisted_46","_hoisted_48","data","curProduct","modal","watch","this","mounted","Modal","$refs","productModal","props","methods","showModal","show","updateItem","$emit","hide","addImages","uploadImg","imgFile","uploadMain","files","formdata","FormData","append","api","$http","post","then","res","value","catch","error","console","log","__exports__","products","editStatus","pagination","components","ProductModal","DelModal","Pagination","getProducts","page","get","alert","message","addItem","resetData","inStatus","JSON","parse","stringify","delModal","put","deleteItem","delete","render"],"sourceRoot":""}